{% comment %}
  Renders a grid of product cards based on a product list metafield.
  Usage: {% render '_bundle-products' %}
{% endcomment %}

{%- assign bundle_list = product.metafields.custom.bundle_products.value -%}

{%- if bundle_list != blank -%}
  <div class="bundle-products-wrapper page-width" style="margin-top: 2rem; margin-bottom: 2rem;">
    <h2 class="inline-richtext {{ block.settings.heading_size }}">What's Included in this Bundle</h2>
    
    <ul class="grid grid--2-col-tablet-down grid--4-col-desktop" role="list">
      {%- for item in bundle_list -%}
        <li class="grid__item">
          {% render 'product-card' %}
        </li>
      {%- endfor -%}
    </ul>
  </div>
{%- endif -%}

<style>
  .bundle-products-wrapper .card__content {
    padding-top: 1rem;
  }
  .bundle-products-wrapper .card__heading {
    margin-bottom: 0.5rem;
  }
</style>
{% schema %}
{
  "name": "t:names.product_media",
  "tag": null,
}
{% endschema %}