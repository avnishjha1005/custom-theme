{%- doc -%}
  Renders the wishlist icon, which displays the number of items in the wishlist via a bubble.
{%- enddoc -%}
<wishlist-icon
  class="
    header-actions__wishlist-icon
    {% unless cart == empty %} header-actions__wishlist-icon--has-cart{% endunless %}
  "
  data-testid="wishlist-icon"
>
  <a 
    href="{{ pages.wishlist.url | default: '/pages/wishlist' }}"
    class="wishlist-icon__link"
    aria-label="View wishlist"
  >
    <span
      class="svg-wrapper"
      aria-hidden="true"
    >
      {{ 'icon-wishlist.svg' | inline_asset_content }}
    </span>

    {% render 'cart-bubble', limit: 100, live_region: true, test_id: test_id %}
  </a>
</wishlist-icon>

{% stylesheet %}
  wishlist-icon:has(.wishlist-bubble__text-count:empty) {
    --wishlist-bubble-size: 10px;
    --wishlist-bubble-top: 9px;
    --wishlist-bubble-right: 9px;

    .svg-wrapper {
      --wishlist-bubble-top: 4px;
      --wishlist-bubble-right: 4px;
    }
  }
  .header-actions__wishlist-icon{
    display: flex;
    height: var(--button-size);
    width: var(--button-size);
    justify-content: center;
    align-items: center;
  }
  .wishlist-icon__link {
    display: flex;
    height: 100%;
    width: 100%;
    justify-content: center;
    align-items: center;
    position: relative;
    text-decoration: none;
    color: inherit;
  }
{% endstylesheet %}